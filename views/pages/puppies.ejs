<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head %>
</head>
<body class="container">

<header>
    <% include ../partials/header %>
</header>

<div class="container">
	<% photos.forEach(function(photos){ %>
	<div class="product-info">
		<div class="product-links">
			<a data-toggle="modal" class="modal-btn" href=".puppy-modal">
				<img src="<%= photos.urls.small %>" style="max-width:300px;" alt="product-img" />
			</a>
			<span class="photographer-account d-none">
				<a href="<%= photos.user.links.html %>"><%= photos.user.first_name %> <%= photos.user.last_name %></a>
			</span>
		</div>
		<ul>
			<li class="puppy-name">Name: <strong><%= photos.user.first_name %></strong></li>
			<li class="puppy-price">Price: <strong>$<%= photos.likes %></strong></li>
			<li class="author-credit d-none">Photo credit: <a href="<%= photos.user.links.html %>"><%= photos.user.first_name %> <%= photos.user.last_name %></a></li>	
			<a href="<%= photos.urls.regular %>" class="modal-img d-none"></a>
		</ul>
		<button type="button" class="btn btn-info add-to-cart">Add to cart</button>
	</div>
	<% }) %>

	<!-- pagination -->
	<% if (pageCount > 1) { %>  
		<ul class="pagination">  
			<% if (currentPage > 1) { %>
				<li><a href="/puppies?page=1">&laquo;</a></li>
			<% } %>
			<% var i = 1;
				if (currentPage > 5) {
					i = +currentPage - 4;
			} %>
			<% if (i !== 1) { %>
				<li class="disabled"><a href="#">...</a></li>
			<% } %>
			<% for (i; i <= pageCount; i++) { %>
			<% if (currentPage == i) { %>
				<li class="active"><span><%= i %> <span class="sr-only">(current)</span></span></li>
			<% } else { %>
				<li><a href="/puppies?page=<%= i %>"><%= i %></a></li>
			<% } %>
				<% if (i == (+ currentPage + 4)) { %>
					<li class="disabled"><a href="#">...</a></li>
				<% break; } %>
			<% } %>
			<% if (currentPage != pageCount) { %>
				<li><a href="/puppies?page=<%= pageCount %>">&raquo;</a></li>
			<% } %>
		</ul>  
	<% } %>  
</div>

<!-- modal -->
<div  class="modal fade puppy-modal" tabindex="-1" role="dialog" aria-labelledby="puppy-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
    	<img style="max-width: 100%;">
    </div>
  </div>
</div>

<footer>
    <% include ../partials/footer %>
</footer>

<% include ../partials/scripts %>

</body>
</html>

